@using Beporsoft.Blazor.Charts.Configuration
@using System.Drawing
<Chart @ref="_chart" />


@code {
    private Chart? _chart;




    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            var labels = RandomDataGen.GetNumberSeries(1, 50);
            var data1 = RandomDataGen.GetDoubleSamples(-10, 10, 50);
            var data2 = RandomDataGen.GetDoubleSamples(40, 50, 50);
            if (_chart is null)

                return;
            _chart.Config = new();
            _chart.Config.Options.Title = new("Titulo");

            var dataset1 = new LineDataset<double>("Continuous line", data1);

            dataset1.SetLineColor(Color.DarkGreen)
                    .SetPointStyle(PointStyle.Triangle, 6);

            var dataset2 = new LineDataset<double>("Stepped line", data2);
            dataset2.Stepped = true;

            _chart.Config.Options
                    .AddTitle("Line chart")
                    .WithLocation(Position.Top, Align.Center)
                    .WithFont(16);



            _chart.Config.Data.Labels = labels.ToList();
            _chart.Config.Data.Datasets.Add(dataset1);
            _chart.Config.Data.Datasets.Add(dataset2);

            _chart.Config.Options
                .AddSubtitle($"This is one line chart with {_chart.Config.Data.Datasets.Count} datasets")
                .WithFont(12);

        }
    }

}
